(function(){
  var wrapper = $('#pagination-list'),
      content = '<%=j render @articles %>';
  var item = $('#pagination-list > div').last(),
      h = wrapper.outerHeight();

  wrapper.outerHeight(h);
  item.after(content);
  wrapper.attr('data-next-page', '<%= next_page %>');
  setTimeout(function(){
    var realH = wrapper.prop('scrollHeight')
    wrapper.animate(
      { height: realH },
      400,
      function(){
        <% if @articles.last_page? %>
          $('.btn-pagination').fadeOut(300, function(){
            $(this).remove();
          });
        <% end %>
      }
    )
  }, 300)
})()
